<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Preparación de los datos | Proyecto Walmart</title>
  <meta name="description" content="El objetivo de libro es describir el proceso de CRISP-DM." />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Preparación de los datos | Proyecto Walmart" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="El objetivo de libro es describir el proceso de CRISP-DM." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Preparación de los datos | Proyecto Walmart" />
  
  <meta name="twitter:description" content="El objetivo de libro es describir el proceso de CRISP-DM." />
  

<meta name="author" content="Beto, Cesar, Luis y Paola" />


<meta name="date" content="2019-12-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="comprensión-de-los-datos.html"/>
<link rel="next" href="references.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Breve descripción del proyecto</a></li>
<li class="chapter" data-level="2" data-path="comprensión-del-negocio.html"><a href="comprensión-del-negocio.html"><i class="fa fa-check"></i><b>2</b> Comprensión del negocio</a><ul>
<li class="chapter" data-level="2.1" data-path="comprensión-del-negocio.html"><a href="comprensión-del-negocio.html#antecedentes"><i class="fa fa-check"></i><b>2.1</b> Antecedentes</a></li>
<li class="chapter" data-level="2.2" data-path="comprensión-del-negocio.html"><a href="comprensión-del-negocio.html#determinación-del-objetivo"><i class="fa fa-check"></i><b>2.2</b> Determinación del objetivo</a></li>
<li class="chapter" data-level="2.3" data-path="comprensión-del-negocio.html"><a href="comprensión-del-negocio.html#determinación-de-criterio-de-éxito"><i class="fa fa-check"></i><b>2.3</b> Determinación de criterio de éxito</a></li>
<li class="chapter" data-level="2.4" data-path="comprensión-del-negocio.html"><a href="comprensión-del-negocio.html#plan-del-proyecto"><i class="fa fa-check"></i><b>2.4</b> Plan del proyecto</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="comprensión-de-los-datos.html"><a href="comprensión-de-los-datos.html"><i class="fa fa-check"></i><b>3</b> Comprensión de los datos</a><ul>
<li class="chapter" data-level="3.1" data-path="comprensión-de-los-datos.html"><a href="comprensión-de-los-datos.html#recolección-de-datos"><i class="fa fa-check"></i><b>3.1</b> Recolección de datos</a></li>
<li class="chapter" data-level="3.2" data-path="comprensión-de-los-datos.html"><a href="comprensión-de-los-datos.html#análisis-exploratorio-de-datos"><i class="fa fa-check"></i><b>3.2</b> Análisis exploratorio de datos</a><ul>
<li class="chapter" data-level="3.2.1" data-path="comprensión-de-los-datos.html"><a href="comprensión-de-los-datos.html#univariado"><i class="fa fa-check"></i><b>3.2.1</b> Univariado</a></li>
<li class="chapter" data-level="3.2.2" data-path="comprensión-de-los-datos.html"><a href="comprensión-de-los-datos.html#bivariado"><i class="fa fa-check"></i><b>3.2.2</b> Bivariado</a></li>
<li class="chapter" data-level="3.2.3" data-path="comprensión-de-los-datos.html"><a href="comprensión-de-los-datos.html#multivariado"><i class="fa fa-check"></i><b>3.2.3</b> Multivariado</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="preparación-de-los-datos.html"><a href="preparación-de-los-datos.html"><i class="fa fa-check"></i><b>4</b> Preparación de los datos</a><ul>
<li class="chapter" data-level="4.1" data-path="preparación-de-los-datos.html"><a href="preparación-de-los-datos.html#selección-e-integración-de-datos"><i class="fa fa-check"></i><b>4.1</b> 1. Selección e integración de datos</a></li>
<li class="chapter" data-level="4.2" data-path="preparación-de-los-datos.html"><a href="preparación-de-los-datos.html#limpieza-de-datos"><i class="fa fa-check"></i><b>4.2</b> 2. Limpieza de datos</a></li>
<li class="chapter" data-level="4.3" data-path="preparación-de-los-datos.html"><a href="preparación-de-los-datos.html#ingeniería-de-características"><i class="fa fa-check"></i><b>4.3</b> 3. Ingeniería de características</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Proyecto Walmart</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="preparación-de-los-datos" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Preparación de los datos</h1>
<p>Este documento describe el proceso de preparación de los datos llevado a cabo sobre la información de Walmart. Cabe destacar que este comprende las etapas:</p>
<ul>
<li><strong>Selección e integración de datos</strong>,</li>
<li><strong>Limpieza de datos</strong>,</li>
<li><strong>Ingeniería de características</strong>.</li>
</ul>
<p>A continuación se describirá a mayor detalle cada uno de los puntos referidos. El detalle de la implementación de tales procesos se puede ver a través del archivo <strong>DataPreparation.R</strong>.</p>
<div id="selección-e-integración-de-datos" class="section level2">
<h2><span class="header-section-number">4.1</span> 1. Selección e integración de datos</h2>
<p>Para esta etapa se debe destacar que, como fue expuesto en la sección del análisis exploratorio de datos, la base de datos de Walmart provee información de los viajes de los clientes en una manera desagregada conforme a las visitas de tales individuos a las tiendas, en función de cada uno de los artículos que se compraron en una visita. Es decir, para cada visita de un cliente pueden existir múltiples reglones, los cuales refieren a los artículos que se adquirieron o devolvieron en dicho evento.</p>
<p>Desde el punto de vista del funcionamiento de los modelos de aprendizaje de máquina, esto constituye una limitante puesto que, en general, tales realizan tareas bajo la idea de que las unidades observacionales en estudio, en este caso las visitas de los clientes a la tienda, aparecen de manera única en las tablas que guardan la información correspondiente.</p>
<p>Es así que la primera decisión fue transformar la información a una tabla en donde se agruparan las visitas de los clientes (ver sección de ingeniería de características para mayor detalle).</p>
</div>
<div id="limpieza-de-datos" class="section level2">
<h2><span class="header-section-number">4.2</span> 2. Limpieza de datos</h2>
<p>En complemento se llevaron a cabo las siguientes acciones de limpieza sobre los datos aportados por Walmart:</p>
<ul>
<li>Sobre los campos que contienen información tipo texto, se aplicó una transformación que convierte todo a minúsculas.</li>
<li>Se realizó la imputación de valores cero sobre los campos donde existe información sobre las variables <em>Upc</em> y <em>FinelineNumber</em>.</li>
</ul>
</div>
<div id="ingeniería-de-características" class="section level2">
<h2><span class="header-section-number">4.3</span> 3. Ingeniería de características</h2>
<p>Sobre la base de datos en comento se creó un conjunto de nuevas variables con el propósito de nutrir con mayor elementos de información al modelo que se busca implementar. Entre tales, se encuentran:</p>
<ul>
<li>En primera, se identificó cuales fueron los artículos que se involucraron en la transacción de un cliente (usando el identificador de la misma),</li>
<li>Posteriormente, se calculo la proporción de cada articulo que representan respecto al volumen de aquellos involucrados en la transacción (tanto de aquellos adquiridos como devueltos),</li>
<li>Usando la información anterior, se consolida una nueva base de datos con la información de cada visita de un cliente a través de un renglón en donde se indica que proporción tuvo cada uno de los artículos que se vieron involucrados el evento.</li>
</ul>
<p>Adicionalmente, se construyeron nuevas características:</p>
<ul>
<li>A través de una nueva variable (<em>obj_abs</em>) que refleja la cantidad total de objetos que se involucraron en la transacción, donde aquellos que se adquirieron se representaron de manera agregada con signo positivo y los que se devolvieron con signo negativo.</li>
<li>La variable <em>num_obj</em> refleja el valor absoluto de la cantidad total de objetos que se involucraron en la transacción,</li>
<li>Se creó una variable indicadora(<em>prod_miss</em>) que nos dice si en la base original de Walmart se encontraba ausente el campo <em>Upc</em>.</li>
<li>Además, no se consideraron las columnas <em>Weekday</em>, <em>Upc</em> y <em>visitnumber</em></li>
</ul>
<p>Por otra parte, también se llevaron a cabo las siguientes acciones:</p>
<ul>
<li>Se creó una variable (<em>weekend</em>) que refleja si la transacción de un cliente se llevó a cabo o no en un fin de semana,</li>
<li>En adición, se generó una variable (<em>day</em>) que codifica a manera de categorías numéricas el día de la semana (<em>Monday</em>=1, <em>Tuesday</em>=2, …, <em>Sunday</em>=7),</li>
<li>Análogamente, se construyó una variable numérica (<em>departmentdescription</em>) que codifica con categorías numéricas a los diferentes departamentos a los cuales pertenencen los artículos de la tienda.</li>
<li>En lo tocante a la devolución de artículos, se crearon dos nuevas variables a) <em>devol</em> que indica si en la transacción existió un evento de devolución de artículos, y b) <em>porc_devol</em> que refleja la proporción de artículos devueltos con respecto a aquellos que se involucraron en la transacción de un cliente,</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="comprensión-de-los-datos.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/03-preparacion-datos.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
