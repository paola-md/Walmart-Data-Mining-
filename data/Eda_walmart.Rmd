---
title: "Eda_Walmart"
author: "Cesar Zamora"
date: "14/12/2019"
output: html_document
---

```{r setup, include=FALSE}
library(tidyverse)
library(readr)
library(knitr)
library(kableExtra)
knitr::opts_chunk$set(echo = TRUE)
```

## Carga de los datos

```{R}
train <- read_csv("train.csv")
```

## Funciones auxiliares


```{R}
cuantos <- function(x){
length(unique(x))
}
```

```{R}
# Funciones para crear una tabla con distribuciones porcentales de los campos en una columna
distrib <- function(x){
  tablita <- table(x)
  df <- cbind(tablita,round(prop.table(tablita)*100,4))
  colnames(df) <- c('Frecuencia','Porcentaje')
  df
}

distrib_val <- function(x,n){
  do.call(rbind,lapply(x[n],distrib))
}
```

## 

```{R}
dt <- train %>% count(Weekday) %>%  mutate(prop = round(prop.table(n)*100,2))%>% arrange(desc(prop))

kable(dt) %>%  kable_styling(bootstrap_options = "striped", full_width = F) 

```

## Variable respuesta

```{R}
cuantos(train$TripType)
```


```{R}
dt <- train %>% count(TripType) %>%  mutate(prop = round(prop.table(n)*100,2))%>% arrange(desc(prop)) 
kable(dt) %>%  kable_styling(bootstrap_options = "striped", full_width = F) 
```

## Visitnumber
```{R}
cuantos(train$VisitNumber)
```


```{R}
dt <- train %>% count(VisitNumber) %>%  mutate(prop = round(prop.table(n)*100,4))%>% arrange(desc(prop)) %>% head()
kable(dt) %>%  kable_styling(bootstrap_options = "striped", full_width = F) 
```

## Weekday
```{R}
cuantos(train$Weekday)
```

```{R}
dt <- train %>% count(Weekday) %>%  mutate(prop = round(prop.table(n)*100,2))%>% arrange(desc(prop)) 
kable(dt) %>%  kable_styling(bootstrap_options = "striped", full_width = F) 
```

## Upc
```{R}
cuantos(train$Upc)
```

```{R}
dt <- train %>% count(Upc) %>%  mutate(prop = round(prop.table(n)*100,2))%>% arrange(desc(prop)) %>% head()
kable(dt) %>%  kable_styling(bootstrap_options = "striped", full_width = F) 
```

## ScanCount
```{R}
cuantos(train$ScanCount)
```

```{R}
dt <- train %>% count(ScanCount) %>%  mutate(prop = round(prop.table(n)*100,4))%>% arrange(desc(prop)) 
kable(dt) %>%  kable_styling(bootstrap_options = "striped", full_width = F) 
```

## DepartmentDescription
```{R}
cuantos(train$DepartmentDescription)
```

```{R}
dt <- train %>% count(DepartmentDescription) %>%  mutate(prop = round(prop.table(n)*100,2))%>% arrange(desc(prop)) 
kable(dt) %>%  kable_styling(bootstrap_options = "striped", full_width = F) 
```

## FilelineNumber
```{R}
cuantos(train$FinelineNumber)
```

```{R}
dt <- train %>% count(FinelineNumber) %>%  mutate(prop = round(prop.table(n)*100,2))%>% arrange(desc(prop))
kable(dt) %>%  kable_styling(bootstrap_options = "striped", full_width = F) 
```

```{R}
summary(train)
```


